{%extends 'doctor/base_doctor.html' %}

{% block content%}
<div class="app-container">

  <!-- App hero header starts -->
  <div class="app-hero-header d-flex align-items-center">

    <!-- Breadcrumb starts -->
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <i class="ri-home-8-line lh-1 pe-3 me-3 border-end"></i>
        <a href="index.html">Medecin</a>
      </li>
      <li class="breadcrumb-item text-primary" aria-current="page">
        Tableau de bord
      </li>
    </ol>
    <!-- Breadcrumb ends -->

    <!-- Sales stats starts -->
    <div class="ms-auto d-lg-flex d-none flex-row">
      <div class="d-flex flex-row gap-1 day-sorting">
        <button class="btn btn-sm btn-primary">Aujourd'hui</button>
        <button class="btn btn-sm">7 Jours</button>
        <button class="btn btn-sm">2 Mois</button>
        <button class="btn btn-sm">1 Mois</button>
        <button class="btn btn-sm">3 Mois</button>
        <button class="btn btn-sm">6 Mois</button>
        <button class="btn btn-sm">1 Année</button>
      </div>
    </div>
    <!-- Sales stats ends -->

  </div>
  <!-- App Hero header ends -->

  <!-- App body starts -->
  <div class="app-body">

    <!-- Row starts -->
    <div class="row">
      <div class="col-12 mt-4">

        <!-- Row starts -->
        <div class="row gx-3">
          <div class="col-xxl-6 col-sm-12">
            <div class="card mb-3 bg-1">
              <div class="card-body mh-230">

                <!-- Row starts -->
                <div class="row gx-3">
                  <div class="col-sm-3">
                    <img src="{{ url_for('static', filename='images/doctor.svg') }}" class="img-230 mt-n5"
                      alt="Medical Dashboard">

                  </div>
                  <div class="col-sm-9">
                    <div class="text-white mt-3">
                      <h6>Bonjour</h6>
                      <h3>{{session['nom']}}</h3>
                      <h6>Gynecologiste, MS, MD, MBBS</h6>
                      <h5>Vous aviez au Total <span class="badge bg-danger">18 rendez-vous</span> aujourd'hui.</h5>
                      <div class="rating-stars">
                        <div class="readonly5"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Row ends -->

              </div>
            </div>
          </div>
          <div class="col-xxl-2 col-sm-4">
            <div class="card mb-3">
              <div class="card-body mh-230">

                <!-- Card details start -->
                <div>
                  <div class="d-flex flex-column align-items-center">
                    <div class="icon-box xl bg-primary-subtle rounded-5 mb-2 no-shadow">
                      <i class="ri-empathize-line fs-1 text-primary"></i>
                    </div>
                    <h1 class="text-primary">3809</h1>
                    <h6>Patients</h6>
                    <span class="badge bg-primary">40% Haut</span>
                  </div>
                </div>
                <!-- Card details end -->

              </div>
            </div>
          </div>
          <div class="col-xxl-2 col-sm-4">
            <div class="card mb-3">
              <div class="card-body mh-230">

                <!-- Card details start -->
                <div>
                  <div class="d-flex flex-column align-items-center">
                    <div class="icon-box xl bg-danger-subtle rounded-5 mb-2 no-shadow">
                      <i class="ri-lungs-line fs-1 text-danger"></i>
                    </div>
                    <h1 class="text-danger">906</h1>
                    <h6>Chirurgie</h6>
                    <span class="badge bg-danger">26% Haut</span>
                  </div>
                </div>
                <!-- Card details end -->

              </div>
            </div>
          </div>
          <div class="col-xxl-2 col-sm-4">
            <div class="card mb-3">
              <div class="card-body mh-230">

                <!-- Card details start -->
                <div>
                  <div class="d-flex flex-column align-items-center">
                    <div class="icon-box xl bg-success-subtle rounded-5 mb-2 no-shadow">
                      <i class="ri-money-dollar-circle-line fs-1 text-success"></i>
                    </div>
                    <h1 class="text-success">$986K</h1>
                    <h6>Gain</h6>
                    <span class="badge bg-success">30% Haut</span>
                  </div>
                </div>
                <!-- Card details end -->

              </div>
            </div>
          </div>
        </div>
        <!-- Row ends -->

        <!-- ----------------- AJOUTS POUR LE MEDECIN ----------------- -->
        <div class="row gx-3 mt-4">

          <!-- Consultations du jour -->
          <div class="col-xxl-3 col-sm-6">
            <div class="card mb-3">
              <div class="card-body text-center">
                <i class="ri-stethoscope-line fs-1 text-info"></i>
                <h1 class="text-info">12</h1>
                <h6>Consultations aujourd’hui</h6>
              </div>
            </div>
          </div>

          <!-- Patients hospitalisés -->
          <div class="col-xxl-3 col-sm-6">
            <div class="card mb-3">
              <div class="card-body text-center">
                <i class="ri-hotel-bed-line fs-1 text-warning"></i>
                <h1 class="text-warning">5</h1>
                <h6>Patients hospitalisés</h6>
              </div>
            </div>
          </div>

          <!-- Tâches médicales du jour -->
          <div class="col-xxl-6 col-sm-12">
            <div class="card mb-3">
              <div class="card-header">
                <h5 class="card-title">Tâches médicales du jour</h5>
              </div>
              <div class="card-body">
                <ul class="list-group">
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Lire résultats de laboratoire
                    <span class="badge bg-info rounded-pill">3</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Valider les comptes-rendus
                    <span class="badge bg-warning rounded-pill">1</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Rédiger des ordonnances
                    <span class="badge bg-success rounded-pill">2</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>

        </div>
        <!-- Fin ajouts -->

        <!-- Raccourcis rapides -->
        <div class="row mt-3">
          <div class="col-12">
            <div class="d-flex gap-2 flex-wrap mb-4">
              <a href="/consultations/nouveau" class="btn btn-outline-primary">
                <i class="ri-add-line"></i> Nouvelle consultation
              </a>
              <a href="/patients/mes-patients" class="btn btn-outline-secondary">
                <i class="ri-team-line"></i> Mes patients
              </a>
              <a href="/rendez-vous" class="btn btn-outline-success">
                <i class="ri-calendar-check-line"></i> Mes rendez-vous
              </a>
            </div>
          </div>
        </div>

        <!-- Alertes urgentes -->
        <div class="row mt-3">
          <div class="col-xxl-6 col-sm-12">
            <div class="card mb-3 border-danger">
              <div class="card-header bg-danger text-white">
                <h5 class="card-title">⚠️ Alertes médicales</h5>
              </div>
              <div class="card-body">
                <ul class="list-group">
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Patient ID 3489 : douleur abdominale sévère
                    <a href="/patient/3489" class="btn btn-sm btn-danger">Voir</a>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    Résultat critique : taux de glucose anormal
                    <a href="/analyse/9987" class="btn btn-sm btn-danger">Consulter</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <!-- Fin alertes -->

        <!-- Suite de ton template actuel (graphiques, notes, etc.) -->

        <!-- Row starts -->
        <div class="row gx-3">
          <div class="col-xxl-6 col-sm-12">
            <div class="card mb-3">
              <div class="card-header">
                <h5 class="card-title">Patients</h5>
              </div>
              <div class="card-body">

                <div class="card-info bg-light lh-1">
                  20% plus élevé que l'année dernière.
                </div>
                <div id="patients"></div>

              </div>
            </div>
          </div>
          <div class="col-xxl-6 col-sm-12">
            <div class="card mb-3">
              <div class="card-header">
                <h5 class="card-title">Rendez-vous</h5>
              </div>
              <div class="card-body">

                <div class="card-info bg-light lh-1">
                  33% plus élevé que l'année dernière.
                </div>
                <div id="appointments"></div>

              </div>
            </div>
          </div>
        </div>
        <!-- Row ends -->

        <!-- Le reste de ton template (Notes, Type de patient, etc.) -->

      </div>
    </div>
    <!-- Row ends -->

  </div>
  <!-- App body ends -->

</div>

{%endblock%}